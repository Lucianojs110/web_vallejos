---
import { formatCurrency } from "./../../utils/formatter";
import type { IProductCatalogResponse } from "./../../types/ICatalog";

interface RecordWithData extends Record<string, any> {
  product?: IProductCatalogResponse;
}

const { product }: RecordWithData = Astro.props;
---

<a
  href={`/catalogo/${product?.slug}`}
  class={`border rounded min-w-[14rem] md:min-w-[20rem] min-h-[20rem] bg-white shadow-md hover:shadow-lg pb-8`}
>
  <div>
    <figure class={`w-full  min-h-[20rem] border-b-2`}>
      <img
        class={`w-full h-auto max-h-[20rem] p-8 object-cover`}
        src={product?.mainImage}
        alt={product?.name}
        width="40"
        height="40"
        transition:name={product?.mainImage}
      />
    </figure>

    <div class={`p-2`}>
      <span class={`text-xl`}>
        {formatCurrency(product?.priceDifferenceWithIvaAndDiscount || 0)}
      </span>
    </div>
    <div class={`p-2`}>
      <span transition:name={product?.name}>{product?.name}</span>
    </div>
  </div>
</a>
